# 布欧量化-接针策略

## 策略思路
加密货币交易市场中，往往短期内就有较大幅度的波动。被插针是常有的事。必须承认在加密货币市场中，尤其是被少量资金就能搅动的山寨币市场中，从来都不缺少所谓的赌狗。而插针的用意就是利用短期剧烈的价格波动触发这些高倍合约的爆仓，从而实现盈利。

<u>如果股价出现向上和向下的剧烈波动，但整体仍处于震荡市场中，那么每一次被插针，在针头部位做多做空后，待价格恢复正常区间，就意味着有利可图。</u>

用于演示的策略针对下影线，即向下插针的行为，考虑要不要抄底，并在未来找到获利机会平仓。

为什么不判断上影线？在现货市场里，只有做多的选项，所以没有必要判断上影线。如果是合约相关可以开空，那么上影线也可以编写对应的策略。

值得注意的是，这个策略利用的主要是加密货币市场里剧烈波动的特性，且要注意这个策略适用于震荡市场，也就是价格围绕波动的水平不能发生实质的下跌，否则我们就成了刀口舔血，抄底抄在半山腰。

## 策略逻辑
1. 定义插针行为：下影线要达到箱体的某个比例，这个值初始设定为100%，即下影线要等于箱体高度。
2. 判断跌幅是否超过设定阈值：每根K线的下影线与开收盘价高低无关，所有K线都有下影线，所以要判断，当出现插针的K线信号后，要查看当前K线的针底部（即最低价）与上一根K线的收盘价的跌幅是否超过设定阈值。
   - 满足1.当前K线下影线超过箱体的一定比例，2.当前K线的收盘价与前一根K线的收盘价对比跌幅超过设定的比例，那么抄底。定义为“接针”行为。
   - 未超过百分比，错过信号，继续等待。
3. 寻找获利机会：当开仓后，要寻找平仓机会。定义为“抽离”行为。
   - 获利平仓线：建仓价格 * 设定的止盈比例，当价格达到该线时，平仓。
   - 止损平仓线：建仓价格 * 设定的止损比例，当价格达到该线时，平仓。

代码详见 [布欧量化-接针策略](布欧量化-接针策略.pine)
